{"ast":null,"code":"export default {\n  data() {\n    return {\n      students: [],\n      // 学生列表数据\n      total: 0,\n      // 总记录数\n      currentPage: 1,\n      // 当前页码\n      pageSize: 10,\n      // 每页显示条数\n\n      // 添加学生对话框相关\n      addDialogVisible: false,\n      addForm: {\n        name: \"\",\n        age: null,\n        grade: \"\",\n        clazz: \"\"\n      },\n      addFormRules: {\n        name: [{\n          required: true,\n          message: \"请输入姓名\",\n          trigger: \"blur\"\n        }],\n        age: [{\n          required: true,\n          message: \"请输入年龄\",\n          trigger: \"blur\"\n        }, {\n          type: \"number\",\n          message: \"年龄必须为数字值\"\n        }],\n        grade: [{\n          required: true,\n          message: \"请输入年级\",\n          trigger: \"blur\"\n        }],\n        clazz: [{\n          required: true,\n          message: \"请输入班级\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    // 加载学生数据\n    loadStudents() {\n      this.$axios.get(\"/students\").then(response => {\n        this.students = response.data;\n      });\n    },\n    // 添加学生\n    handleAdd() {\n      this.$refs.addForm.validate(valid => {\n        if (valid) {\n          this.$axios.post(\"/add\", this.addForm).then(() => {\n            this.addDialogVisible = false;\n            this.loadStudents();\n          });\n        }\n      });\n    },\n    // 重置添加学生表单\n    resetAddForm() {\n      this.$refs.addForm.resetFields();\n    },\n    // 编辑学生\n    handleEdit(row) {\n      // 实现编辑功能，你可以根据需要添加相关代码\n      // 例如：显示一个编辑对话框，并在确认保存后发送请求更新后端数据\n    },\n    // 删除学生\n    handleDelete(row) {\n      this.$axios.post(\"/delete\", row).then(() => {\n        this.loadStudents();\n      });\n    },\n    // 分页改变\n    handlePageChange(page) {\n      this.currentPage = page;\n      this.loadStudents();\n    }\n  },\n  mounted() {\n    // 页面加载时加载学生数据\n    this.loadStudents();\n  }\n};","map":{"version":3,"names":["data","students","total","currentPage","pageSize","addDialogVisible","addForm","name","age","grade","clazz","addFormRules","required","message","trigger","type","methods","loadStudents","$axios","get","then","response","handleAdd","$refs","validate","valid","post","resetAddForm","resetFields","handleEdit","row","handleDelete","handlePageChange","page","mounted"],"sources":["src/components/Home.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>学生管理系统</h2>\r\n\r\n    <!-- 添加学生按钮 -->\r\n    <el-button type=\"primary\" @click=\"showAddDialog\">添加学生</el-button>\r\n\r\n    <!-- 学生列表 -->\r\n    <el-table :data=\"students\" style=\"width: 100%\" stripe>\r\n      <el-table-column prop=\"id\" label=\"ID\"></el-table-column>\r\n      <el-table-column prop=\"name\" label=\"姓名\"></el-table-column>\r\n      <el-table-column prop=\"age\" label=\"年龄\"></el-table-column>\r\n      <el-table-column prop=\"grade\" label=\"年级\"></el-table-column>\r\n      <el-table-column prop=\"clazz\" label=\"班级\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"text\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n          <el-button type=\"text\" @click=\"handleDelete(scope.row)\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      v-if=\"total > 0\"\r\n      @current-change=\"handlePageChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n    >\r\n    </el-pagination>\r\n\r\n    <!-- 添加学生对话框 -->\r\n    <el-dialog\r\n      title=\"添加学生\"\r\n      :visible.sync=\"addDialogVisible\"\r\n      width=\"30%\"\r\n      @close=\"resetAddForm\"\r\n    >\r\n      <el-form\r\n        :model=\"addForm\"\r\n        ref=\"addForm\"\r\n        :rules=\"addFormRules\"\r\n        label-width=\"80px\"\r\n      >\r\n        <!-- 表单项 -->\r\n        <!-- ... -->\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleAdd\">确定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      students: [], // 学生列表数据\r\n      total: 0, // 总记录数\r\n      currentPage: 1, // 当前页码\r\n      pageSize: 10, // 每页显示条数\r\n\r\n      // 添加学生对话框相关\r\n      addDialogVisible: false,\r\n      addForm: {\r\n        name: \"\",\r\n        age: null,\r\n        grade: \"\",\r\n        clazz: \"\",\r\n      },\r\n      addFormRules: {\r\n        name: [{ required: true, message: \"请输入姓名\", trigger: \"blur\" }],\r\n        age: [\r\n          { required: true, message: \"请输入年龄\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"年龄必须为数字值\" },\r\n        ],\r\n        grade: [{ required: true, message: \"请输入年级\", trigger: \"blur\" }],\r\n        clazz: [{ required: true, message: \"请输入班级\", trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 加载学生数据\r\n    loadStudents() {\r\n      this.$axios.get(\"/students\").then((response) => {\r\n        this.students = response.data;\r\n      });\r\n    },\r\n\r\n    // 添加学生\r\n    handleAdd() {\r\n      this.$refs.addForm.validate((valid) => {\r\n        if (valid) {\r\n          this.$axios.post(\"/add\", this.addForm).then(() => {\r\n            this.addDialogVisible = false;\r\n            this.loadStudents();\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    // 重置添加学生表单\r\n    resetAddForm() {\r\n      this.$refs.addForm.resetFields();\r\n    },\r\n\r\n    // 编辑学生\r\n    handleEdit(row) {\r\n      // 实现编辑功能，你可以根据需要添加相关代码\r\n      // 例如：显示一个编辑对话框，并在确认保存后发送请求更新后端数据\r\n    },\r\n\r\n    // 删除学生\r\n    handleDelete(row) {\r\n      this.$axios.post(\"/delete\", row).then(() => {\r\n        this.loadStudents();\r\n      });\r\n    },\r\n\r\n    // 分页改变\r\n    handlePageChange(page) {\r\n      this.currentPage = page;\r\n      this.loadStudents();\r\n    },\r\n  },\r\n  mounted() {\r\n    // 页面加载时加载学生数据\r\n    this.loadStudents();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 可以添加一些样式 */\r\n</style>\r\n"],"mappings":"AA6DA;EACAA,KAAA;IACA;MACAC,QAAA;MAAA;MACAC,KAAA;MAAA;MACAC,WAAA;MAAA;MACAC,QAAA;MAAA;;MAEA;MACAC,gBAAA;MACAC,OAAA;QACAC,IAAA;QACAC,GAAA;QACAC,KAAA;QACAC,KAAA;MACA;MACAC,YAAA;QACAJ,IAAA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAN,GAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,IAAA;UAAAF,OAAA;QAAA,EACA;QACAJ,KAAA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAJ,KAAA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;IACA;EACA;EACAE,OAAA;IACA;IACAC,aAAA;MACA,KAAAC,MAAA,CAAAC,GAAA,cAAAC,IAAA,CAAAC,QAAA;QACA,KAAApB,QAAA,GAAAoB,QAAA,CAAArB,IAAA;MACA;IACA;IAEA;IACAsB,UAAA;MACA,KAAAC,KAAA,CAAAjB,OAAA,CAAAkB,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAP,MAAA,CAAAQ,IAAA,cAAApB,OAAA,EAAAc,IAAA;YACA,KAAAf,gBAAA;YACA,KAAAY,YAAA;UACA;QACA;MACA;IACA;IAEA;IACAU,aAAA;MACA,KAAAJ,KAAA,CAAAjB,OAAA,CAAAsB,WAAA;IACA;IAEA;IACAC,WAAAC,GAAA;MACA;MACA;IAAA,CACA;IAEA;IACAC,aAAAD,GAAA;MACA,KAAAZ,MAAA,CAAAQ,IAAA,YAAAI,GAAA,EAAAV,IAAA;QACA,KAAAH,YAAA;MACA;IACA;IAEA;IACAe,iBAAAC,IAAA;MACA,KAAA9B,WAAA,GAAA8B,IAAA;MACA,KAAAhB,YAAA;IACA;EACA;EACAiB,QAAA;IACA;IACA,KAAAjB,YAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}