{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      students: [],\n      // 学生列表数据\n      pagination: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 0\n      }\n    };\n  },\n  methods: {\n    // 获取学生列表\n    getStudents(page, pageSize) {\n      this.$axios.get(`/students?page=${page}&pageSize=${pageSize}`).then(response => {\n        this.students = response.data.records;\n        this.pagination.currentPage = response.data.current;\n        this.pagination.pageSize = response.data.size;\n        this.pagination.total = response.data.total;\n      });\n    },\n    // 添加学生\n    addStudent() {\n      this.$router.push(\"/add\");\n    },\n    // 编辑学生\n    editStudent(student) {\n      this.$router.push(`/edit/${student.id}`);\n    },\n    // 删除学生\n    deleteStudent(student) {\n      this.$axios.post(\"/delete\", student).then(() => {\n        this.getStudents(this.pagination.currentPage, this.pagination.pageSize);\n      });\n    },\n    // 分页变化时的处理\n    handleCurrentChange(val) {\n      this.getStudents(val, this.pagination.pageSize);\n    },\n    // 登出\n    logout() {\n      // 在这里执行登出逻辑\n    }\n  },\n  mounted() {\n    this.getStudents(this.pagination.currentPage, this.pagination.pageSize);\n  }\n};","map":{"version":3,"names":["data","students","pagination","currentPage","pageSize","total","methods","getStudents","page","$axios","get","then","response","records","current","size","addStudent","$router","push","editStudent","student","id","deleteStudent","post","handleCurrentChange","val","logout","mounted"],"sources":["src/components/Home.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>学生管理系统</h1>\r\n    <el-button @click=\"logout\">登出</el-button>\r\n    <el-table :data=\"students\" style=\"width: 100%\">\r\n      <el-table-column prop=\"name\" label=\"姓名\"></el-table-column>\r\n      <el-table-column prop=\"age\" label=\"年龄\"></el-table-column>\r\n      <el-table-column prop=\"grade\" label=\"年级\"></el-table-column>\r\n      <el-table-column prop=\"clazz\" label=\"班级\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"editStudent(scope.row)\">编辑</el-button>\r\n          <el-button type=\"danger\" @click=\"deleteStudent(scope.row)\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      v-if=\"pagination\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"pagination.currentPage\"\r\n      :page-sizes=\"[5, 10, 20, 50]\"\r\n      :page-size=\"pagination.pageSize\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"pagination.total\"\r\n    ></el-pagination>\r\n    <el-button @click=\"addStudent\">添加学生</el-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      students: [], // 学生列表数据\r\n      pagination: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 获取学生列表\r\n    getStudents(page, pageSize) {\r\n      this.$axios\r\n        .get(`/students?page=${page}&pageSize=${pageSize}`)\r\n        .then((response) => {\r\n          this.students = response.data.records;\r\n          this.pagination.currentPage = response.data.current;\r\n          this.pagination.pageSize = response.data.size;\r\n          this.pagination.total = response.data.total;\r\n        });\r\n    },\r\n    // 添加学生\r\n    addStudent() {\r\n      this.$router.push(\"/add\");\r\n    },\r\n    // 编辑学生\r\n    editStudent(student) {\r\n      this.$router.push(`/edit/${student.id}`);\r\n    },\r\n    // 删除学生\r\n    deleteStudent(student) {\r\n      this.$axios.post(\"/delete\", student).then(() => {\r\n        this.getStudents(this.pagination.currentPage, this.pagination.pageSize);\r\n      });\r\n    },\r\n    // 分页变化时的处理\r\n    handleCurrentChange(val) {\r\n      this.getStudents(val, this.pagination.pageSize);\r\n    },\r\n    // 登出\r\n    logout() {\r\n      // 在这里执行登出逻辑\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getStudents(this.pagination.currentPage, this.pagination.pageSize);\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* 可以在这里添加一些自定义的样式 */\r\n</style>\r\n"],"mappings":";AAgCA;EACAA,KAAA;IACA;MACAC,QAAA;MAAA;MACAC,UAAA;QACAC,WAAA;QACAC,QAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACA;IACAC,YAAAC,IAAA,EAAAJ,QAAA;MACA,KAAAK,MAAA,CACAC,GAAA,mBAAAF,IAAA,aAAAJ,QAAA,IACAO,IAAA,CAAAC,QAAA;QACA,KAAAX,QAAA,GAAAW,QAAA,CAAAZ,IAAA,CAAAa,OAAA;QACA,KAAAX,UAAA,CAAAC,WAAA,GAAAS,QAAA,CAAAZ,IAAA,CAAAc,OAAA;QACA,KAAAZ,UAAA,CAAAE,QAAA,GAAAQ,QAAA,CAAAZ,IAAA,CAAAe,IAAA;QACA,KAAAb,UAAA,CAAAG,KAAA,GAAAO,QAAA,CAAAZ,IAAA,CAAAK,KAAA;MACA;IACA;IACA;IACAW,WAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IACA;IACAC,YAAAC,OAAA;MACA,KAAAH,OAAA,CAAAC,IAAA,UAAAE,OAAA,CAAAC,EAAA;IACA;IACA;IACAC,cAAAF,OAAA;MACA,KAAAX,MAAA,CAAAc,IAAA,YAAAH,OAAA,EAAAT,IAAA;QACA,KAAAJ,WAAA,MAAAL,UAAA,CAAAC,WAAA,OAAAD,UAAA,CAAAE,QAAA;MACA;IACA;IACA;IACAoB,oBAAAC,GAAA;MACA,KAAAlB,WAAA,CAAAkB,GAAA,OAAAvB,UAAA,CAAAE,QAAA;IACA;IACA;IACAsB,OAAA;MACA;IAAA;EAEA;EACAC,QAAA;IACA,KAAApB,WAAA,MAAAL,UAAA,CAAAC,WAAA,OAAAD,UAAA,CAAAE,QAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}