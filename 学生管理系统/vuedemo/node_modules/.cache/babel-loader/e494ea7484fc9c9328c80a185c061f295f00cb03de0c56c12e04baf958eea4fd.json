{"ast":null,"code":"export default {\n  data() {\n    return {\n      addStudentDialogVisible: false,\n      addStudentForm: {\n        name: \"\",\n        age: null,\n        grade: \"\",\n        clazz: \"\"\n      },\n      students: [],\n      // 学生列表数据\n      total: 0,\n      // 总数\n      currentPage: 1,\n      // 当前页\n      pageSize: 10 // 每页显示条数\n    };\n  },\n\n  methods: {\n    // 添加学生\n    addStudent() {\n      this.$axios.post(\"/add\", this.addStudentForm).then(() => {\n        this.addStudentDialogVisible = false;\n        this.getStudents();\n      });\n    },\n    // 编辑学生\n    handleEdit(row) {\n      // TODO: 编辑学生逻辑\n    },\n    // 删除学生\n    handleDelete(row) {\n      this.$axios.post(\"/delete\", row).then(() => {\n        this.getStudents();\n      });\n    },\n    // 分页：每页显示条数改变\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.getStudents();\n    },\n    // 分页：当前页改变\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getStudents();\n    },\n    // 获取学生列表数据\n    getStudents() {\n      this.$axios.get(\"/students\").then(response => {\n        this.students = response.data;\n        this.total = response.data.length; // 假设后端返回的数据包含总数\n      });\n    },\n\n    // 重置添加学生表单\n    resetAddStudentForm() {\n      this.$refs.addStudentForm.resetFields();\n    }\n  },\n  created() {\n    this.getStudents();\n  }\n};","map":{"version":3,"names":["data","addStudentDialogVisible","addStudentForm","name","age","grade","clazz","students","total","currentPage","pageSize","methods","addStudent","$axios","post","then","getStudents","handleEdit","row","handleDelete","handleSizeChange","val","handleCurrentChange","get","response","length","resetAddStudentForm","$refs","resetFields","created"],"sources":["src/components/Home.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 添加学生表单 -->\r\n    <el-dialog\r\n      title=\"添加学生\"\r\n      :visible.sync=\"addStudentDialogVisible\"\r\n      width=\"30%\"\r\n      @close=\"resetAddStudentForm\"\r\n    >\r\n      <el-form :model=\"addStudentForm\" ref=\"addStudentForm\" label-width=\"80px\">\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input v-model=\"addStudentForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"年龄\" prop=\"age\">\r\n          <el-input v-model.number=\"addStudentForm.age\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"班级\" prop=\"clazz\">\r\n          <el-input v-model=\"addStudentForm.clazz\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"年级\" prop=\"grade\">\r\n          <el-input v-model=\"addStudentForm.grade\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addStudentDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"addStudent\">确定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 学生列表 -->\r\n    <el-table :data=\"students\" style=\"width: 100%\">\r\n      <el-table-column label=\"ID\" prop=\"id\"></el-table-column>\r\n      <el-table-column label=\"姓名\" prop=\"name\"></el-table-column>\r\n      <el-table-column label=\"年龄\" prop=\"age\"></el-table-column>\r\n      <el-table-column label=\"班级\" prop=\"clazz\"></el-table-column>\r\n      <el-table-column label=\"年级\" prop=\"grade\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"handleEdit(scope.row)\"\r\n            >编辑</el-button\r\n          >\r\n          <el-button type=\"danger\" size=\"small\" @click=\"handleDelete(scope.row)\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage\"\r\n      :page-sizes=\"[10, 20, 30, 50]\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"total, sizes, prev, pager, next\"\r\n      :total=\"total\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      addStudentDialogVisible: false,\r\n      addStudentForm: {\r\n        name: \"\",\r\n        age: null,\r\n        grade: \"\",\r\n        clazz: \"\",\r\n      },\r\n      students: [], // 学生列表数据\r\n      total: 0, // 总数\r\n      currentPage: 1, // 当前页\r\n      pageSize: 10, // 每页显示条数\r\n    };\r\n  },\r\n  methods: {\r\n    // 添加学生\r\n    addStudent() {\r\n      this.$axios.post(\"/add\", this.addStudentForm).then(() => {\r\n        this.addStudentDialogVisible = false;\r\n        this.getStudents();\r\n      });\r\n    },\r\n    // 编辑学生\r\n    handleEdit(row) {\r\n      // TODO: 编辑学生逻辑\r\n    },\r\n    // 删除学生\r\n    handleDelete(row) {\r\n      this.$axios.post(\"/delete\", row).then(() => {\r\n        this.getStudents();\r\n      });\r\n    },\r\n    // 分页：每页显示条数改变\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.getStudents();\r\n    },\r\n    // 分页：当前页改变\r\n    handleCurrentChange(val) {\r\n      this.currentPage = val;\r\n      this.getStudents();\r\n    },\r\n    // 获取学生列表数据\r\n    getStudents() {\r\n      this.$axios.get(\"/students\").then((response) => {\r\n        this.students = response.data;\r\n        this.total = response.data.length; // 假设后端返回的数据包含总数\r\n      });\r\n    },\r\n    // 重置添加学生表单\r\n    resetAddStudentForm() {\r\n      this.$refs.addStudentForm.resetFields();\r\n    },\r\n  },\r\n  created() {\r\n    this.getStudents();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n/* 可以根据需要添加样式 */\r\n</style>\r\n"],"mappings":"AA8DA;EACAA,KAAA;IACA;MACAC,uBAAA;MACAC,cAAA;QACAC,IAAA;QACAC,GAAA;QACAC,KAAA;QACAC,KAAA;MACA;MACAC,QAAA;MAAA;MACAC,KAAA;MAAA;MACAC,WAAA;MAAA;MACAC,QAAA;IACA;EACA;;EACAC,OAAA;IACA;IACAC,WAAA;MACA,KAAAC,MAAA,CAAAC,IAAA,cAAAZ,cAAA,EAAAa,IAAA;QACA,KAAAd,uBAAA;QACA,KAAAe,WAAA;MACA;IACA;IACA;IACAC,WAAAC,GAAA;MACA;IAAA,CACA;IACA;IACAC,aAAAD,GAAA;MACA,KAAAL,MAAA,CAAAC,IAAA,YAAAI,GAAA,EAAAH,IAAA;QACA,KAAAC,WAAA;MACA;IACA;IACA;IACAI,iBAAAC,GAAA;MACA,KAAAX,QAAA,GAAAW,GAAA;MACA,KAAAL,WAAA;IACA;IACA;IACAM,oBAAAD,GAAA;MACA,KAAAZ,WAAA,GAAAY,GAAA;MACA,KAAAL,WAAA;IACA;IACA;IACAA,YAAA;MACA,KAAAH,MAAA,CAAAU,GAAA,cAAAR,IAAA,CAAAS,QAAA;QACA,KAAAjB,QAAA,GAAAiB,QAAA,CAAAxB,IAAA;QACA,KAAAQ,KAAA,GAAAgB,QAAA,CAAAxB,IAAA,CAAAyB,MAAA;MACA;IACA;;IACA;IACAC,oBAAA;MACA,KAAAC,KAAA,CAAAzB,cAAA,CAAA0B,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAb,WAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}